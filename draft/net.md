## net

- 应用层

- 传输控制层

tcp/udp

开始连接: 三次握手

```
client ---- 1 sync       ---> server
       <--- 2 sync + ack ----
       ---- 3 ack        --->
```

断开链接: 四次分手

```
client ---- 1 fin       ---> server
       <--- 2 fin + ack ----
       <--- 3 fin       ----
       ---- 4 ack       --->
```

注意: 
- 2 是说服务器知道客户端要和服务器断开连接了,此时客户端还不能销毁资源
- 3 服务器同意断开
- 4 此时客户端响应`ack`表示知道, 同时可以销毁本地连接资源

抓包命令

```
tcpdump -nn -i en0 port 80
```

- 网络层

ip, 下一跳,


- 链路层

mac

传输过程中目标ip不会发生变化, mac会一直变化, 随着下一跳变化

- 物理层