<!doctype html><html lang=zh dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="API列表 # 1 authorization_code # 1-1 获取授权code # 请求方式
GET /authorize
参数说明
参数 类型 说明 client_id string 在oauth2 server注册的client_id,见配置文件 oauth2.client.id response_type string 固定值:code scope string 权限范围,如:str1,str2,str3,str为配置文件中 oauth2.client.scope.id的值 state string 表示客户端的当前状态,可以指定任意值,认证服务器会原封不动地返回这个值 redirect_uri string 回调uri,会在后面添加query参数?code=xxx&state=xxx,发放的code就在其中 请求示例
# 浏览器请求 http://localhost:9096/authorize?client_id=test_client_1&response_type=code&scope=all&state=xyz&redirect_uri=http://localhost:9093/cb # 302跳转,返回code http://localhost:9093/cb?code=XUNKO4OPPROWAPFKEWNZWA&state=xyz 1-2 使用code交换token # 请求方式
POST /token
请求头 Authorization
basic auth username: client_id password: client_secret Header
Content-Type: application/x-www-form-urlencoded
Body参数说明
参数 类型 说明 grant_type string 固定值authorization_code code string 1-1 发放的code redirect_uri string 1-1 填写的redirect_uri Response返回示例"><meta name=theme-color content="#FFFFFF"><meta name=color-scheme content="light dark"><meta property="og:title" content="API列表"><meta property="og:description" content="API列表 # 1 authorization_code # 1-1 获取授权code # 请求方式
GET /authorize
参数说明
参数 类型 说明 client_id string 在oauth2 server注册的client_id,见配置文件 oauth2.client.id response_type string 固定值:code scope string 权限范围,如:str1,str2,str3,str为配置文件中 oauth2.client.scope.id的值 state string 表示客户端的当前状态,可以指定任意值,认证服务器会原封不动地返回这个值 redirect_uri string 回调uri,会在后面添加query参数?code=xxx&state=xxx,发放的code就在其中 请求示例
# 浏览器请求 http://localhost:9096/authorize?client_id=test_client_1&response_type=code&scope=all&state=xyz&redirect_uri=http://localhost:9093/cb # 302跳转,返回code http://localhost:9093/cb?code=XUNKO4OPPROWAPFKEWNZWA&state=xyz 1-2 使用code交换token # 请求方式
POST /token
请求头 Authorization
basic auth username: client_id password: client_secret Header
Content-Type: application/x-www-form-urlencoded
Body参数说明
参数 类型 说明 grant_type string 固定值authorization_code code string 1-1 发放的code redirect_uri string 1-1 填写的redirect_uri Response返回示例"><meta property="og:type" content="article"><meta property="og:url" content="https://blog.llaoj.cn/docs/oauth2nsso/apis/"><meta property="article:section" content="docs"><title>API列表 | 老J的博客</title><link rel=manifest href=/manifest.json><link rel=icon href=/favicon.png type=image/x-icon><link rel=stylesheet href=/book.min.18b5d651e266e5e9cfc7455e2e50eb1b74a62aee16cf204b69de1d9e695276f7.css integrity="sha256-GLXWUeJm5enPx0VeLlDrG3SmKu4WzyBLad4dnmlSdvc=" crossorigin=anonymous><script defer src=/flexsearch.min.js></script>
<script defer src=/zh.search.min.18d0c00dd7360d6d5e6ef378097814c382454c389c8088a4502557abc61d4b3e.js integrity="sha256-GNDADdc2DW1ebvN4CXgUw4JFTDicgIikUCVXq8YdSz4=" crossorigin=anonymous></script>
<script defer src=/sw.min.6f6f90fcb8eb1c49ec389838e6b801d0de19430b8e516902f8d75c3c8bd98739.js integrity="sha256-b2+Q/LjrHEnsOJg45rgB0N4ZQwuOUWkC+NdcPIvZhzk=" crossorigin=anonymous></script>
<script>var _hmt=_hmt||[];(function(){var e,t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?7f5ad4632a1c2df3cd8e1199a7aaf48a",e=document.getElementsByTagName("script")[0],e.parentNode.insertBefore(t,e)})()</script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/><img src=/j.png alt=Logo><span>老J的博客</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=搜索 aria-label=搜索 maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><a href=/posts/>文章</a></li></ul><ul><li><a href=/docs/oauth2nsso/>OAuth2&SSO</a><ul><li><a href=/docs/oauth2nsso/configuration/>配置</a></li><li><a href=/docs/oauth2nsso/apis/ class=active>API列表</a></li><li><a href=/docs/oauth2nsso/deploy/>部署</a></li><li><a href=/docs/oauth2nsso/note/>说明</a></li><li><a href=/docs/oauth2nsso/demo/>示例</a></li><li><a href=/docs/oauth2nsso/for-client/>接入指引</a></li></ul></li><li><a href=/docs/about/>关于</a><ul></ul></li></ul><ul><li><a href=https://www.cncf.io/ target=_blank rel=noopener>CNCF</a></li><li><a href=https://ebpf.io/ target=_blank rel=noopener>eBPF</a></li></ul><div class=book-menu-after><a href=/docs/rutron/ target=_blank>@如创科技</a><br>提供云计算支持</div></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/svg/menu.svg class=book-icon alt=Menu></label>
<strong>API列表</strong>
<label for=toc-control><img src=/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#1-authorization_code>1 authorization_code</a><ul><li><a href=#1-1-获取授权code>1-1 获取授权code</a></li><li><a href=#1-2-使用code交换token>1-2 使用<code>code</code>交换<code>token</code></a></li></ul></li><li><a href=#2-implicit>2 implicit</a></li><li><a href=#3-password>3 password</a></li><li><a href=#4-client_credentials>4 client_credentials</a></li><li><a href=#5-验证token>5 验证token</a></li><li><a href=#6-刷新token>6 刷新token</a></li><li><a href=#7-logout>7 logout</a></li></ul></nav></aside></header><article class=markdown><h1 id=api列表>API列表
<a class=anchor href=#api%e5%88%97%e8%a1%a8>#</a></h1><h2 id=1-authorization_code>1 authorization_code
<a class=anchor href=#1-authorization_code>#</a></h2><h3 id=1-1-获取授权code>1-1 获取授权code
<a class=anchor href=#1-1-%e8%8e%b7%e5%8f%96%e6%8e%88%e6%9d%83code>#</a></h3><p><strong>请求方式</strong></p><p><code>GET</code> <code>/authorize</code></p><p><strong>参数说明</strong></p><table><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>client_id</td><td>string</td><td>在oauth2 server注册的client_id,见配置文件
<a href=http://rutron.net/docs/oauth2nsso/configuration/>oauth2.client.id</a></td></tr><tr><td>response_type</td><td>string</td><td>固定值:<code>code</code></td></tr><tr><td>scope</td><td>string</td><td>权限范围,如:<code>str1,str2,str3</code>,str为配置文件中
<a href=http://rutron.net/docs/oauth2nsso/configuration/>oauth2.client.scope.id</a>的值</td></tr><tr><td>state</td><td>string</td><td>表示客户端的当前状态,可以指定任意值,认证服务器会原封不动地返回这个值</td></tr><tr><td>redirect_uri</td><td>string</td><td>回调uri,会在后面添加query参数<code>?code=xxx&state=xxx</code>,发放的code就在其中</td></tr></tbody></table><p><strong>请求示例</strong></p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span><span style=color:#998;font-style:italic># 浏览器请求</span>
</span></span><span style=display:flex><span>http://localhost:9096/authorize?client_id<span style=color:#000;font-weight:700>=</span>test_client_1&amp;<span style=color:teal>response_type</span><span style=color:#000;font-weight:700>=</span>code&amp;<span style=color:teal>scope</span><span style=color:#000;font-weight:700>=</span>all&amp;<span style=color:teal>state</span><span style=color:#000;font-weight:700>=</span>xyz&amp;<span style=color:teal>redirect_uri</span><span style=color:#000;font-weight:700>=</span>http://localhost:9093/cb
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#998;font-style:italic># 302跳转,返回code</span>
</span></span><span style=display:flex><span>http://localhost:9093/cb?code<span style=color:#000;font-weight:700>=</span>XUNKO4OPPROWAPFKEWNZWA&amp;<span style=color:teal>state</span><span style=color:#000;font-weight:700>=</span>xyz
</span></span></code></pre></div><h3 id=1-2-使用code交换token>1-2 使用<code>code</code>交换<code>token</code>
<a class=anchor href=#1-2-%e4%bd%bf%e7%94%a8code%e4%ba%a4%e6%8d%a2token>#</a></h3><p><strong>请求方式</strong></p><p><code>POST</code> <code>/token</code></p><p><strong>请求头 Authorization</strong></p><ul><li>basic auth</li><li>username: <code>client_id</code></li><li>password: <code>client_secret</code></li></ul><p><strong>Header</strong><br><code>Content-Type: application/x-www-form-urlencoded</code></p><p><strong>Body参数说明</strong></p><table><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>grant_type</td><td>string</td><td>固定值<code>authorization_code</code></td></tr><tr><td>code</td><td>string</td><td>1-1 发放的code</td></tr><tr><td>redirect_uri</td><td>string</td><td>1-1 填写的redirect_uri</td></tr></tbody></table><p><strong>Response返回示例</strong></p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:navy>&#34;access_token&#34;</span>: <span style=color:#d14>&#34;eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiIyMjIyMjIiLCJleHAiOjE1ODU3MTU1NTksInN1YiI6InRlc3QifQ.ZMgIDQMW7FGxbF1V8zWOmEkmB7aLH1suGYjhDdrT7aCYMEudWUoiCkWHSvBmJahGm0RDXa3IyDoGFxeMfzlDNQ&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:navy>&#34;expires_in&#34;</span>: <span style=color:#099>7200</span>,
</span></span><span style=display:flex><span>    <span style=color:navy>&#34;refresh_token&#34;</span>: <span style=color:#d14>&#34;JG7_WGLWXUOW2KV2VLJKSG&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:navy>&#34;scope&#34;</span>: <span style=color:#d14>&#34;all&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:navy>&#34;token_type&#34;</span>: <span style=color:#d14>&#34;Bearer&#34;</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=2-implicit>2 implicit
<a class=anchor href=#2-implicit>#</a></h2><p>资源请求方(client方)使用,
多用于没有后端的应用,
用户授权登录之后, 会直接向前端发送令牌(<code>access_token</code>)</p><p><strong>请求方式</strong></p><p><code>GET</code> <code>/authorize</code></p><p><strong>参数说明</strong></p><table><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>client_id</td><td>string</td><td>在 oauth2 server 注册的client_id</td></tr><tr><td>response_type</td><td>string</td><td>固定值<code>token</code></td></tr><tr><td>scope</td><td>string</td><td>权限范围,同1-1中说明</td></tr><tr><td>state</td><td>string</td><td>验证请求的标志字段</td></tr><tr><td>redirect_uri</td><td>string</td><td>发放<code>code</code>用的回调uri,回调时会在uri后面跟上<code>?code=**&state=###</code></td></tr></tbody></table><p><strong>请求示例</strong></p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>http://localhost:9096/authorize?client_id<span style=color:#000;font-weight:700>=</span>test_client_1&amp;<span style=color:teal>response_type</span><span style=color:#000;font-weight:700>=</span>token&amp;<span style=color:teal>scope</span><span style=color:#000;font-weight:700>=</span>all&amp;<span style=color:teal>state</span><span style=color:#000;font-weight:700>=</span>xyz&amp;<span style=color:teal>redirect_uri</span><span style=color:#000;font-weight:700>=</span>http://localhost:9093/cb
</span></span></code></pre></div><p><strong>返回示例</strong></p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span><span style=color:#998;font-style:italic># 302 跳转,返回 access_token</span>
</span></span><span style=display:flex><span>http://localhost:9093/cb#access_token<span style=color:#000;font-weight:700>=</span>eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJ0ZXN0X2NsaWVudF8xIiwiZXhwIjoxNTkxNDI3OTMwLCJzdWIiOiJhZG1pbiJ9.RBYns9UnNYDHINSBzvHWHRzuKCpzKmsxUnKt30lntmGvXmVDoByZtlB0RHAVB59PHBlJNO_YUBZzC2odwCa8Tg
</span></span><span style=display:flex><span>&amp;<span style=color:teal>expires_in</span><span style=color:#000;font-weight:700>=</span>3600&amp;<span style=color:teal>scope</span><span style=color:#000;font-weight:700>=</span>all&amp;<span style=color:teal>state</span><span style=color:#000;font-weight:700>=</span>xyz&amp;<span style=color:teal>token_type</span><span style=color:#000;font-weight:700>=</span>Bearer
</span></span></code></pre></div><p><strong>注意</strong></p><ol><li>这里会返回请求时设置的<code>state</code>, 请在进行下一步之前验证它, 防止请求被劫持或者篡改</li><li>这种方式把令牌直接传给前端，是很不安全的。因此，只能用于一些安全要求不高的场景，并且令牌的有效期必须非常短，通常就是会话期间（session）有效，浏览器关掉，令牌就失效了</li></ol><h2 id=3-password>3 password
<a class=anchor href=#3-password>#</a></h2><p>资源请求方(client方)使用
如果充分信任接入应用(client), 用户就可以直接把用户名密码给接入应用.
接入应用使用用户账号密码申请令牌.</p><p><strong>请求方式</strong></p><p><code>POST</code> <code>/token</code></p><p><strong>请求头 Authorization</strong></p><ul><li>basic auth</li><li>username: <code>client_id</code></li><li>password: <code>client_secret</code></li></ul><p><strong>Header</strong><br><code>Content-Type: application/x-www-form-urlencoded</code></p><p><strong>Body参数说明</strong></p><table><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>grant_type</td><td>string</td><td>固定值<code>password</code></td></tr><tr><td>username</td><td>string</td><td>用户名</td></tr><tr><td>password</td><td>string</td><td>用户密码</td></tr><tr><td>scope</td><td>string</td><td>权限范围,同1-1中说明</td></tr></tbody></table><p><strong>返回示例</strong></p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:navy>&#34;access_token&#34;</span>: <span style=color:#d14>&#34;eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJ0ZXN0X2NsaWVudF8xIiwiZXhwIjoxNTkxNDMyNzA3LCJzdWIiOiJhZG1pbiJ9.ECfUkCMUZE8I6GH3XTDcJnQgDryiRyyBhEHBW-dCxzFWaR-mvU5dsx3XV2bx-LWZzPJTBAQ3rB5QOb4BHjnBXw&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:navy>&#34;expires_in&#34;</span>: <span style=color:#099>7200</span>,
</span></span><span style=display:flex><span>    <span style=color:navy>&#34;refresh_token&#34;</span>: <span style=color:#d14>&#34;AH-B00RKXTME9WXDPSBSTG&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:navy>&#34;scope&#34;</span>: <span style=color:#d14>&#34;all&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:navy>&#34;token_type&#34;</span>: <span style=color:#d14>&#34;Bearer&#34;</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=4-client_credentials>4 client_credentials
<a class=anchor href=#4-client_credentials>#</a></h2><p>资源请求方(client方)使用
使用在oauth2服务器注册的client_id 和 client_secret 获取 access_token,
发出 API 请求时，它应将access_token作为 Bearer 令牌传递到 Authorization 请求头中。</p><p><strong>请求方式</strong></p><p><code>POST</code> <code>/token</code></p><p><strong>请求头 Authorization</strong></p><ul><li>basic auth</li><li>username: <code>client_id</code></li><li>password: <code>client_secret</code></li></ul><p><strong>Header</strong></p><p><code>Content-Type: application/x-www-form-urlencoded</code></p><p><strong>Body参数说明</strong></p><table><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>grant_type</td><td>string</td><td>固定值<code>client_credentials</code></td></tr><tr><td>scope</td><td>string</td><td>权限范围,同1-1中说明</td></tr></tbody></table><p><strong>返回示例</strong></p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:navy>&#34;access_token&#34;</span>: <span style=color:#d14>&#34;eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJlbWJlZGVkLWg1LWFwaSIsImV4cCI6MTU4OTk3NzQyNn0.Pu93fy0-gyiFqExBkCFAKTVJ1on_RpOSexzkHqczA6n6kB2_mOHbTMOyGK_Di7bHxZ3JqpZeyDoKQBtUe_T7jw&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:navy>&#34;expires_in&#34;</span>: <span style=color:#099>7200</span>,
</span></span><span style=display:flex><span>    <span style=color:navy>&#34;token_type&#34;</span>: <span style=color:#d14>&#34;Bearer&#34;</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=5-验证token>5 验证token
<a class=anchor href=#5-%e9%aa%8c%e8%af%81token>#</a></h2><p><strong>接口说明</strong></p><p>这个接口是资源端使用的,
用来验证 <code>access_token</code> <code>scope</code> 和 <code>domain</code> .</p><p><strong>请求方式</strong></p><p><code>GET</code> <code>/verify</code></p><p><strong>请求头 Authorization</strong></p><ul><li>Bearer Token</li><li>Token: <code>access_token</code></li></ul><p><strong>返回示例</strong></p><p>正确 Status Code: 200</p><p>Response Body:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:navy>&#34;client_id&#34;</span>: <span style=color:#d14>&#34;test_client_1&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:navy>&#34;domain&#34;</span>: <span style=color:#d14>&#34;http://127.0.0.1:9093&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:navy>&#34;expires_in&#34;</span>: <span style=color:#099>7188</span>,
</span></span><span style=display:flex><span>  <span style=color:navy>&#34;scope&#34;</span>: <span style=color:#d14>&#34;all&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:navy>&#34;user_id&#34;</span>: <span style=color:#d14>&#34;&#34;</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><blockquote><p><strong>注意:</strong> 接口还会一起返回权限范围<code>scope</code> 和 client 的注册 domain, 这里推荐验证下, 请求方的身份和权限</p></blockquote><p>错误 Status Code: 400</p><p>Response Body: <code>invalid access token</code></p><h2 id=6-刷新token>6 刷新token
<a class=anchor href=#6-%e5%88%b7%e6%96%b0token>#</a></h2><p>刷新access_token, 使用refresh_token换取access_token</p><p><strong>请求方式</strong></p><p><code>POST</code> <code>/token</code></p><p><strong>请求头 Authorization</strong></p><ul><li>basic auth</li><li>username: <code>client_id</code></li><li>password: <code>client_secret</code></li></ul><p><strong>Header</strong></p><p><code>Content-Type: application/x-www-form-urlencoded</code></p><p><strong>Body参数说明</strong></p><table><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>grant_type</td><td>string</td><td>固定值<code>refresh_token</code></td></tr><tr><td>refresh_token</td><td>string</td><td>之前获取的refresh_token</td></tr></tbody></table><p><strong>返回示例</strong></p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:navy>&#34;access_token&#34;</span>: <span style=color:#d14>&#34;eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiIyMjIyMjIiLCJleHAiOjE1ODU4MTc2MTMsInN1YiI6IjEifQ.yNpQIbklhtsSr5KEkJMAR4I30c85OEriYwAOpL_ukRBJ1qsSziT05HFN-kxVN1-qM18TzVEf8beCvugyhpgpsg&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:navy>&#34;expires_in&#34;</span>: <span style=color:#099>7200</span>,
</span></span><span style=display:flex><span>    <span style=color:navy>&#34;refresh_token&#34;</span>: <span style=color:#d14>&#34;2AH_LQHPUYK8XML4LKMQKG&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:navy>&#34;scope&#34;</span>: <span style=color:#d14>&#34;all&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:navy>&#34;token_type&#34;</span>: <span style=color:#d14>&#34;Bearer&#34;</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=7-logout>7 logout
<a class=anchor href=#7-logout>#</a></h2><p>专门为SSO开发,
主要是销毁浏览器的会话, 退出登录状态, 跳转到指定链接(redirect_uri)</p><p><strong>请求方式</strong></p><p><code>GET</code> <code>/logout?redirect_uri=xxx</code></p><p><strong>参数说明</strong></p><table><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>redirect_uri</td><td>string</td><td>退出登录后跳转到的地址,建议使用1-1所生成的地址, 需要urlencode</td></tr></tbody></table><p><strong>请求示例</strong></p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>http://localhost:9096/logout?redirect_uri<span style=color:#000;font-weight:700>=</span>http%3a%2f%2flocalhost%3a9096%2fauthorize%3fclient_id%3dtest_client_1%26response_type%3dcode%26scope%3dall%26state%3dxyz%26redirect_uri%3dhttp%3a%2f%2flocalhost%3a9093%2fcb
</span></span></code></pre></div></article><footer class=book-footer><div class="flex flex-wrap justify-between"></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments><link rel=stylesheet href=https://unpkg.com/gitalk/dist/gitalk.css><script src=https://unpkg.com/gitalk/dist/gitalk.min.js></script><div id=gitalk-container></div><script type=text/javascript>const gitalk=new Gitalk({clientID:"53c7373e7b1554a4abc3",clientSecret:"7c9dcef80ea6bde5d8695d1ab94bcef87063fb3b",repo:"llaoj.github.io",owner:"llaoj",admin:["llaoj"],id:location.pathname,distractionFreeMode:!1});gitalk.render("gitalk-container")</script></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#1-authorization_code>1 authorization_code</a><ul><li><a href=#1-1-获取授权code>1-1 获取授权code</a></li><li><a href=#1-2-使用code交换token>1-2 使用<code>code</code>交换<code>token</code></a></li></ul></li><li><a href=#2-implicit>2 implicit</a></li><li><a href=#3-password>3 password</a></li><li><a href=#4-client_credentials>4 client_credentials</a></li><li><a href=#5-验证token>5 验证token</a></li><li><a href=#6-刷新token>6 刷新token</a></li><li><a href=#7-logout>7 logout</a></li></ul></nav></div></aside></main></body></html>