<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>etcd on 老J的博客</title><link>https://blog.llaoj.cn/tags/etcd/</link><description>Recent content in etcd on 老J的博客</description><generator>Hugo -- gohugo.io</generator><lastBuildDate>Mon, 29 Aug 2022 00:00:00 +0000</lastBuildDate><atom:link href="https://blog.llaoj.cn/tags/etcd/index.xml" rel="self" type="application/rss+xml"/><item><title>使用etcdctl查看kubernetes存储的内容</title><link>https://blog.llaoj.cn/posts/2208/kubernetes-etcdctl-usage/</link><pubDate>Mon, 29 Aug 2022 00:00:00 +0000</pubDate><guid>https://blog.llaoj.cn/posts/2208/kubernetes-etcdctl-usage/</guid><description>因为etcd中的内容都是加密的, 使用下面的命令安装解密工具:
mkdir auger curl -o ./auger/auger_1.0.2_linux_amd64.tar.gz \ https://llaoj.oss-cn-beijing.aliyuncs.com/files/github.com/etcd-io/auger/releases/download/v1.0.2/auger_1.0.2_linux_amd64.tar.gz tar -xvf ./auger/auger_1.0.2_linux_amd64.tar.gz -C ./auger mv ./auger/auger /usr/local/bin/ rm -rf ./auger 下面这个脚本提供了etcdctl连接etcd所需要的端点、证书相关的信息. 这个脚本需要在master节点上执行:
curl -o ./etcdctl.sh https://blog.llaoj.cn/posts/2208/kubernetes-etcdctl-usage/etcdctl.sh \ &amp;amp;&amp;amp; chmod +x ./etcdctl.sh 好了, 我们已经把证书都提前配置好了. 下面可以直接使用etcdctl.sh命令了, 比如:
# 获取所有的Key ./etcdctl.sh get --keys-only --from-key &amp;#34;&amp;#34; # 获取指定Key的内容 ./etcdctl.sh get /registry/clusterroles/cluster-admin | auger decode</description></item></channel></rss>